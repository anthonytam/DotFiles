<!doctype html>
<html>


<!-- Mirrored from www.cdf.toronto.edu/~ajr/209/tut/06/ by HTTrack Website Copier/3.x [XR&CO'2014], Fri, 13 Jan 2017 00:59:02 GMT -->
<head>

<title>CSC 209 tutorial exercises, week of 22 February 2016</title>

<meta name=viewport content="width=device-width, initial-scale=1">

<style type="text/css">
    body {
        color: black;
        background-color: #ffdddd;
    }
    hr {
        border-style: solid;
    }
    div.toc {
        float: right;
        padding-left: 20px;
        padding-right: 20px;
        padding-top: 20px;
        padding-bottom: 20px;
        background-color: #cc7777;
        color: white;
        link: white;
        visited: white;
        line-height: 150%;
    }
    div.toc a:link {
        color: white;
    }
    div.toc a:visited {
        color: white;
    }

    .hidden { display: none; }
    .unhidden { display: block; }
</style>

<script type="text/javascript">
    function show(s) {
        document.getElementById(s).className = 'unhidden';
    }
    function reveal(s) {
        document.getElementById(s+'_a').className = 'hidden';
        document.getElementById(s+'_b').className = 'revealed';
    }
</script>

</head>

<body>

<div class=toc>
<a href="../01.html">Tutorial 01</a>
<br>
<a href="../02.html">Tutorial 02</a>
<br>
<a href="../03.html">Tutorial 03</a>
<br>
<a href="../04.html">Tutorial 04</a>
<br>
<a href="../05.html">Tutorial 05</a>
<br>
<a href="../06.html">Tutorial 06</a>
<br>
<a href="../07.html">Tutorial 07</a>
<br>
<a href="../08.html">Tutorial 08</a>
<br>
<a href="../09.html">Tutorial 09</a>
<br>
<a href="../10.html">Tutorial 10</a>
<br>
<a href="../11.html">Tutorial 11</a>
<br>
<a href="../12.html">Tutorial 12</a>
<br>
<p>
[<a href="../../index.html">Course home page</a>]
</div>

<h1>CSC 209 tutorial 06 exercises, week of 22 February 2016</h1>

Please begin by running "/student/csc209/present".
This records your attendance and is required for you to get the marks for the
lab.


<p>
<hr>

<h3> 1. Files </h3>

Take the rot.c program from assignment one (either your solution or my solution in
/student/csc209/a1/rot.c) and make it function like a normal "zero or
more file names" unix tool.

<p>
That is, argc is required to be at least 2, and argv[1] is the rotation
amount; but after that, if argc is 2 it processes the standard input (as
before), otherwise
it loops through the remaining arguments, fopen()s each one, process it,
fclose().

<p>
So instead of getchar() in your loop, you use getc(fp).
You still use putchar().

<p>
Avoid duplicating code.
When you go to process stdin, you could do so with the same code (probably in
a separate function) by making fp be the value stdin (defined in
stdio.h).


<p>
<hr>

<h3> 2. Strings </h3>

2.1.  Add the loop described below to the following code (available in
/student/csc209/tut/06/starter.c, or copy from this web page):

<pre>
int main()
{
    char s[27];
    LOOP GOES HERE
    printf("%s\n", s);
    return(0);
}
</pre>

<p>
The program should output "ABCDEFGHIJKLMNOPQRSTUVWXYZ" (without the quotes),
but don't use any of the str* functions (e.g. strcpy).
Create the string 's' by setting
the items in the array to the successive letters of the alphabet using a simple
for loop by doing arithmetic on character values, and then setting s[26] to zero.


<p>
2.2.  Given an int value between 10 and 99 inclusive (e.g. start your code
with "int x = 38;" for a test), write code to convert this to a
three-character array which is a string.
The zeroth character of your string is the number div 10 + '0'; character one of
your string is the number mod 10 + '0'; and the array element two is the
terminating zero.  Note the difference between 0 and '0' (the latter is 48 in
ASCII).


<p>
<hr>

<h3> 3. To submit: string processing </h3>

A "palindrome" is a coherent phrase which consists of the same letters and digits
forwards and backwards, although the spacing and capitalization may be
different.  Some examples:

<pre>
	Madam, I'm Adam.
	A man, a plan, a canal, Panama.
	Doc, note: I dissent!  A fast never prevents a fatness.  I diet on cod.
	Won 12 tons?  Not 21 now.
</pre>

<p>
Write a C program named "ispalindrome.c" which insists on having one
argument (i.e. argc == 2).
It checks its argument string to see whether it's a palindrome, and exits
with exit status 0 if it is a palindrome, or 1 if it is not.
Similar to the <cite>test</cite> program, there is no output, unless there is
a usage error.

<p>
An example of using ispalindrome is in the "findpal" program in assignment
one, a solution to which (in which you'd have to modify the ispalindrome
invocation to run your own, if you want to test them together) can be found in
/student/csc209/a1/findpal
<br> (and regarding that solution, also see /student/csc209/a1/findpal-README
, although that's not relevant to this tutorial)

<p>
Implementation technique: Start a pointer-to-char at the beginning of the
string and another pointer-to-char at the end of the string.
(Find the end of the string with a simple linear search algorithm to find the
zero byte.)
The pointer
which started at the beginning of the string gets incremented and the
pointer which started at the end of the string gets decremented, until
they meet or pass.
<br>
So your loop will look something like "while (p &lt; q)".

<p>
<strong><font size="+2">Note:</font></strong>
Since this exercise is about strings and pointers, you <i>must</i>
use this pointer strategy to get the point for the lab.
That is to say, your access to a character in the string has to look more
like "*p" than like "s[i]".
(And "*(s+i)" doesn't count as the pointer strategy,
that's the same as s[i] (by definition).  You have to use a pointer variable
which you are stepping through the string without indexing.)

<p>
Note relevant functions available after "#include &lt;ctype.h&gt;":
isalnum(c) returns whether the character c is alphanumeric (you should
skip all non-alphanumeric characters in making your comparison), and
tolower(c) returns a lower-case version of the character c if it's an
upper-case letter (e.g. tolower('E') returns 'e'), and returns the
character itself otherwise (e.g. tolower('e') returns 'e', and
tolower('2') returns '2').

<p>
As usual, submit your program with
<pre>
        /student/csc209/submit tut6 ispalindrome.c
</pre>
, by the end of the day,
and no matter when you submit it, don't forget to run /student/csc209/present
during the tutorial time, on the console of a tutorial lab workstation.

<p>
(Other 'submit' commands are described at the end of the notes for
<a href="../01/index.html">tutorial one</a>.)

<p>
Your program must compile on the UTM linux
machines with "gcc -Wall" with no errors or warning messages.

<p>
<hr width="25%" align=left>
<p>
Q: Do we need to check argc and output a usage message?

<p>
A: Yes!  Always!  And the usage message must be in the standard format (see
the SYNOPSIS line from the man page exercise in <a href="../03/index.html">tutorial
three</a>), and to stderr.
<!--
and you must exit with exit status 1 in case of error or 0 in the normal case.
-->

<!--
<p>
Note: Since we hadn't talked about output to other files yet, outputting the
usage message to stdout was accepted for tutorial five... but that won't be
accepted for this or future tutorials, nor for assignments.
-->

<p>
<hr>

</body>

<!-- Mirrored from www.cdf.toronto.edu/~ajr/209/tut/06/ by HTTrack Website Copier/3.x [XR&CO'2014], Fri, 13 Jan 2017 00:59:02 GMT -->
</html>
