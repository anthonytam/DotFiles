<!doctype html>
<html>


<!-- Mirrored from www.cdf.toronto.edu/~ajr/209/probs/sh/ by HTTrack Website Copier/3.x [XR&CO'2014], Fri, 13 Jan 2017 00:59:15 GMT -->
<head>

<title>CSC 209: additional problems regarding shell scripting</title>

<meta name=viewport content="width=device-width, initial-scale=1">

<style type="text/css">
    body {
        color: black;
        background-color: #ffdddd;
    }
    hr {
        border-style: solid;
    }
    div.toc {
        float: right;
        padding-left: 20px;
        padding-right: 20px;
        padding-top: 20px;
        padding-bottom: 20px;
        background-color: #cc7777;
        color: white;
        link: white;
        visited: white;
        line-height: 150%;
    }
    div.toc a:link {
        color: white;
    }
    div.toc a:visited {
        color: white;
    }

    .hidden { display: none; }
    .unhidden { display: block; }
</style>

<script type="text/javascript">
    function show(s) {
        document.getElementById(s).className = 'unhidden';
    }
    function reveal(n) {
        document.getElementById(n + '_teaser').className = 'hidden';
        document.getElementById(n + '_hr').className = 'unhidden';
        document.getElementById(n + '_full').className = 'unhidden';
	n1 = n + 1;
        document.getElementById(n1 + '_hr').className = 'unhidden';
    }
</script>

</head>

<body>
<div class=toc>

<a href="../../.html">Introduction</a>
<br>
<a href="../../announce.html">Announcements</a>

<p>

<a href="../../lect/index.html">Lectures</a>
<br>
<a href="../../tut/index.html">Tutorials</a>
<br>
<a href="../../asmt.html">Assignments</a>

<p>
<a href="javascript:show('tests')">Tests, exam</a>
<div id=tests class=hidden>
    <ul>
    <li>
    <a href="../../mid/index.html">Mid-term test</a>
    <li>
    <a href="../../exam/info.html">Final exam</a>
    </ul>
</div>

<p>

<a href="../../notes/index.html">Course notes</a>
<br>
<a href="../index.html">Extra problems</a>
<br>

<a href="https://mcs.utm.utoronto.ca/~mybb/utmcs/forumdisplay.php?fid=193">Discussion board</a>

<p>
<a href="../../netgrade-results.html">Grades so far</a>
<br>
<a href="../../oldannounce.html">Old announcements</a>

</div>

<h1>CSC 209 additional problems regarding shell scripting</h1>

1.
Write a "glob" expression (filename wildcards in the shell, e.g.
patterns like "*.c") which matches all filenames in the current
directory
with the following properties.  Do not worry about the issue of filenames
beginning with a dot.

<p>
a) filenames beginning with an 'x'

<p>
b) filenames ending with an 'x'

<p>
c) filenames containing an 'x', anywhere in the filename (multiple x's also
match, e.g. xqcxnkxe is a match)

<p>
d) filenames beginning with a lowercase letter

<p>
e) filenames containing one or more digits, anywhere in the file name

<p>
[<a href="glob.html">solutions</a>]

<p>
<hr noshade>
<p>

2.
Write a <i>for</i> loop to be executed in sh which goes through your
directory "/usr/wilma/letters" (you are Wilma) and for each file in
the directory, executes the command "grep Fred <i>file</i>".
(Don't use xargs or find.)

<p>
[<a href="wilma.html">solution</a>]

<p>
<hr noshade>
<p>

3.
The file "/etc/passwd" lists all user accounts on the system, one per
line.
The command "wc -l" counts and reports the number of lines in its input.
Write a single pipeline which outputs (only) the count of how many users have
an 'e' in their user information somewhere (anywhere in their line in
/etc/passwd).

<p>
[<a href="passwd.html">solution</a>]

<p>
<hr noshade>
<p>

4.
Write a sed command which changes all occurrences of the three letters
"the" to "five".  The letters must be in sequence and must be
lower-case, but they needn't be a separate word, e.g. "northern" would
be changed to "norfivern", and "tothether" would be changed to
"tofivefiver".

<p>
[<a href="sed.html">solution</a>]

<p>
<hr noshade>
<p>

5. Write shell commands to perform the following actions.  You may not use
perl.
You can assume that no files in the affected directory/directories have names
beginning with a dot, except of course for dot and dotdot ('.' and '..').

<p>
a) Delete all files in /tmp with an 'x' in their name.

<p>
b) Delete all files in /tmp with an 'x' in the file (the contents of the file,
as opposed to the file name).

<p>
c) Make subdirectories named "even" and "odd",
and move all other files in the current directory into one of the
subdirectories in accordance with whether the size of the file in bytes is
even or odd.
(Don't move a newly-created "even" or "odd" directory itself into a
subdirectory!
Also, you might want to know that 'expr' has a '%' operator (although there is
also a good answer which doesn't use expr).)


<p>
[<a href="q5.html">sample solutions</a>]

<p>
<hr noshade>
<p>

6. Write a shell script to delete all files in the directory /home/ajr/q6
which have exactly three lines in them (in the opinion of "wc -l").
There may be subdirectories and symlinks and other special files in this
directory, which you must skip over (you must not attempt to read their
contents in any way, such as invoking "wc" on them).

<p>
[<a href="q6.html">solution</a>]


<p>
<hr noshade>
<p>

7. There is a plagiarism-checking program called "cheating",
where "cheating file1 file2" outputs the probability,
as a percentage value between 0 and 100 inclusive,
that file1 and file2 are programs of students cheating off of each other.
Write a shell script to compare all pairs of files in
the directory /u/submit/csc209h/a1 (which contains a single plain file per
student)
and output the ten most likely cheating cases, one pair per line, in the
format:
<pre>
	98 c4abcdef c4ghijkl
</pre>
That is, "98" is the percentage probability output by the "cheating"
command, and "c4abcdef" and "c4ghijkl" are the file names.

<p>
[<a href="cheating.html">solution</a>]


<p>
<hr noshade>
<p>

8.
<br>
a) The file "letters" contains one letter per line.
Considering upper and lower-case letters to be the same, output the number of
occurrences of each letter, in descending order by number of occurrences.  If
a letter does not occur,
it is acceptable to output "0 x" <i>or</i> not to output anything for that
letter, whichever is easier.
You may wish to use any or all of tr, sort, and awk (or other tools).

<p>
b) The file "text" does <i>not</i> contain only one letter
per line; it is free-format text.
Write a command whose output would be suitable as input for part (a), instead
of the file "letters"; that is, your command outputs one letter per line
and removes all non-letters.


<p>
<hr noshade>
<p>

9. Write the Towers of Hanoi program as a shell script.
There are two basic strategies: run the shell script recursively as $0, or
write a recursive shell function.

<p>
Here are solutions for the <a href="hanoi.html">recursive sh invocation version</a>
and the <a href="hanoi2.html">shell function version</a>.

<p>
<hr noshade>
<p>

10. Write a shell script to perform Euclid's greatest common divisor algorithm.
The two input values will appear on the command line.
You can assume that they are integers (if present -- you still have to check
the argument count).
Note that the "expr" command has a '%' operator.

<p>
Sample interaction, where '$' is the shell prompt:
<pre>
	$ sh gcd 12 15
	3
	$ sh gcd 12 15 26
	usage: gcd x y
	$ 
</pre>

<p>
<hr noshade>
<p>

11. Write a shell script to play a guessing game as follows, where the
user's number is between 0 and 100 inclusive.  Your shell script does a
binary search by keeping track of a "low" and a "high" value
such that the user's number, <i>x</i>, is always such that
<i>low</i>&le;<i>x</i>&lt;<i>high</i>.
On each iteration, the guess is (<i>low</i>+<i>high</i>)/2, and this new number
will be assigned either to <i>low</i> or <i>high</i> in accordance with the
user's response.

<pre>
	$ sh guess
	Is your number &gt;=50 or &lt;50?  Enter 'g' or 'l'.
	l
	Is your number &gt;=25 or &lt;25?  Enter 'g' or 'l'.
	g
	Is your number &gt;=37 or &lt;37?  Enter 'g' or 'l'.
	l
	Is your number &gt;=31 or &lt;31?  Enter 'g' or 'l'.
	g
	Is your number &gt;=34 or &lt;34?  Enter 'g' or 'l'.
	l
	Is your number &gt;=32 or &lt;32?  Enter 'g' or 'l'.
	g
	Is your number &gt;=33 or &lt;33?  Enter 'g' or 'l'.
	g
	Your number must be 33.
	$ 
</pre>

(Once <i>low</i>==<i>high</i>-1, you exit the loop and conclude that
the user's number must be <i>low</i>.)


<p>
<hr noshade>
<p>

12. Write a shell script to perform the same function as the Python "range"
built-in function.  Note that it can take one, two, or three arguments.

<p>
[<a href="range.html">solution</a>]


<p>
<hr noshade>
<p>

Nearly any introductory programming problem would be a possible
programming problem in sh, so long as it doesn't use extremely interesting
data structures.
(Although some interesting-data-structures programming problems are also
good sh programming problems.)

<p>
Just keep in mind that which programming problems are easier or harder to
solve in, for example, the Python programming language is a separate question
than which programming problems are easier or harder to solve in sh.
Some things are a lot easier and some are a lot harder.

<p>
Now, of course, a problem you have from first year
which says to do something in a particular way might
be Python-specific (or C-specific).
Some of the early CSC 108 assignments probably don't have analogues in a
non-object-oriented programming language, although the problem they solve
when viewed from the outside can still be done in sh, but then it's often
too trivial to be of interest.

<p>
<hr noshade>
<p>

Larger programs:

<ul>
<li> <a href="webshprob.html">websh</a>, a web browsing utility in sh
<li> <a href="uidconflictprob.html">uidconflict</a> (probably requires awk or perl)
</ul>

<p>
<hr>

</body>

<!-- Mirrored from www.cdf.toronto.edu/~ajr/209/probs/sh/ by HTTrack Website Copier/3.x [XR&CO'2014], Fri, 13 Jan 2017 00:59:18 GMT -->
</html>
